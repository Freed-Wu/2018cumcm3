\makeatletter
%-------------------------------------------------------------------------------------------------------
\xdefinecolor{termimal}{RGB}{80,78,70}
\xdefinecolor{linux}{RGB}{0,39,51}
\xdefinecolor{dkgreen}{rgb}{0, 0.6, 0}
\xdefinecolor{gray}{rgb}{0.5, 0.5, 0.5}
\xdefinecolor{mauve}{rgb}{0.58, 0, 0.82}
\xdefinecolor{DeepSkyBlue}{RGB}{0, 104, 139}
\xdefinecolor{dkpurple}{rgb}{0.455, 0.204, 0.506}
\newif\ifTJ@green
\newif\ifTJ@orange
\newif\ifTJ@violet
\TJ@greentrue
\TJ@orangefalse
\TJ@violetfalse
\ifTJ@green
	\xdefinecolor{cvgreen}{HTML}{92D14F}
	\xdefinecolor{cvgray}{HTML}{D8E4BE}
	\xdefinecolor{cvtext}{HTML}{92909B}
\else
\fi
\ifTJ@orange
	\xdefinecolor{cvgreen}{RGB}{230, 140, 20}
	\xdefinecolor{cvgray}{RGB}{248, 216, 174}
	\xdefinecolor{cvtext}{RGB}{100, 100, 100}
\else
\fi
\ifTJ@violet
	\xdefinecolor{cvgreen}{RGB}{142, 10, 178}
	\xdefinecolor{cvgray}{RGB}{209, 181, 217}
	\xdefinecolor{cvtext}{RGB}{100, 100, 100}
\else
\fi
%-------------------------------------------------------------------------------------------------------
\usepackage{ctex}
\xeCJKsetup
{	CJKecglue = {\hskip 0.10em plus 0.05em minus 0.05em}, 
	CheckSingle = true
}
\setCJKmainfont
[	BoldFont = {Noto Serif CJK SC Bold}, 
	ItalicFont = {AR PL UKai HK}
]{Noto Serif CJK SC ExtraLight}
\setCJKsansfont
[	BoldFont = {Noto Sans S Chinese Medium}, 
%	ItalicFont = {Noto Sans S Chinese DemiLight}
]{SimSun}
\setCJKmonofont
[	BoldFont = {Adobe Heiti Std}, 
	ItalicFont = {Adobe Kaiti Std}
]{WenQuanYi Micro Hei Mono Light}
\setCJKfamilyfont{zhkesong}{MF KeSong (Noncommercial)}
\setCJKfamilyfont{zhhjsd}{MF TheGoldenEra (Noncommercial)}
\setCJKfamilyfont{zhlangsong}{MF LangSong (Noncommercial)}
\newcommand{\hjsd}{\CJKfamily{zhhjsd}}
\newcommand{\KeSong}{\CJKfamily{zhkesong}}
\newcommand{\langsong}{\CJKfamily{zhlangsong}}
\newfontfamily\KeSongf[Mapping = tex-text]{MF KeSong (Noncommercial)}
\newfontfamily\hjsdf[Mapping = tex-text]{MF TheGoldenEra (Noncommercial)}
\newfontfamily\langsongf[Mapping = tex-text]{MF LangSong (Noncommercial)}
\newfontfamily\SourceCodePro[Mapping = tex-text]{Source Code Pro}
\newfontfamily\monaco{Monaco}
%-------------------------------------------------------------------------------------------------------
\def\thu@def@fontsize#1#2{%
\expandafter\newcommand\csname #1\endcsname[1][1.3]{%
	\fontsize{#2}{##1\dimexpr #2}\selectfont}}
\thu@def@fontsize{chuhao}{42bp}
\thu@def@fontsize{xiaochu}{36bp}
\thu@def@fontsize{yihao}{26bp}
\thu@def@fontsize{xiaoyi}{24bp}
\thu@def@fontsize{erhao}{22bp}
\thu@def@fontsize{xiaoer}{18bp}
\thu@def@fontsize{sanhao}{16bp}
\thu@def@fontsize{xiaosan}{15bp}
\thu@def@fontsize{sihao}{14bp}
\thu@def@fontsize{banxiaosi}{13bp}
\thu@def@fontsize{xiaosi}{12bp}
\thu@def@fontsize{dawu}{11bp}
\thu@def@fontsize{wuhao}{10.5bp}
\thu@def@fontsize{xiaowu}{9bp}
\thu@def@fontsize{liuhao}{7.5bp}
\thu@def@fontsize{xiaoliu}{6.5bp}
\thu@def@fontsize{qihao}{5.5bp}
\thu@def@fontsize{bahao}{5bp}
%-------------------------------------------------------------------------------------------------------
\usepackage{microtype}
%-------------------------------------------------------------------------------------------------------
\usepackage
[	colorlinks = true, 
	linkcolor = gray, 
	citecolor = gray,
	backref=page
]{hyperref}
%-------------------------------------------------------------------------------------------------------
\newcommand{\UbuntuMin}
{	\begin{tikzpicture}[x=2.4ex,y=2.4ex,line width=0.15ex,scale=1]
	\fill[gray!80](0,0) circle (0.5);
	\draw[termimal](-0.3,0)--(0.3,0);
	\end{tikzpicture}
}
\newcommand{\UbuntuClose}
{	\begin{tikzpicture}[x=2.4ex,y=2.4ex,line width=0.15ex,scale=1]
	\fill[orange](0,0) circle (0.5);
	\draw[termimal](-0.25,-0.25)--(0.25,0.25);
	\draw[termimal](-0.25,0.25)--(0.25,-0.25);
	\end{tikzpicture}
}
\newcommand{\UbuntuMax}
{	\begin{tikzpicture}[x=2.4ex,y=2.4ex,line width=0.15ex,scale=1]
	\fill[gray!80](0,0) circle (0.5);
	\draw[termimal](-0.25,-0.2)rectangle(0.25,0.2);
	\end{tikzpicture}
}
\tcbset
{	skin=enhanced,
	console/.style=
	{	halign title=center,
		skin=bicolor,
		boxrule=1mm,
		fonttitle=\bfseries,
		coltitle=linux,
		frame style=
		{	draw=linux,
			left color=termimal,
			right color=termimal
		},
		colback=linux,
		colupper=white,
		breakable,
		colframe=termimal,
		colbacktitle=termimal,
		listing engine=minted,
		overlay unbroken=
		{	\node[inner sep=0pt,anchor=north west,yshift=-5pt,xshift=10pt,text=white] at (frame.north west){\UbuntuClose~\UbuntuMin~\UbuntuMax};},
		overlay first=
		{	\node[inner sep=0pt,anchor=north west,yshift=-5pt,xshift=10pt,text=white] at (frame.north west){\UbuntuClose~\UbuntuMin~\UbuntuMax};},
		minted style=trac,
		minted language=bash,
		minted options=
		{	mathescape,autogobble,breaklines,
			fontsize=\footnotesize,
			numbersep=3mm,
			highlightcolor=green,
			escapeinside=``
		}
	}
}
\DeclareTCBListing{console2}{ m m }
{	listing and comment,
	colbacklower=tcbcol@back!5!yellow!10!white,
	collower=linux,
	console,
	title={#2},
	comment={\small\sffamily#1}}
\DeclareTCBListing{console}{ m }
{	listing only,
	console,
	title={#1}}
%-------------------------------------------------------------------------------------------------------
\tcbset
{	skin=enhanced,
	matlab/.style=
	{	breakable,drop shadow,
		listing engine=minted,
		minted style=trac,
		colback=blue!5!white,
		colframe=blue!75!black,
		left=6mm,
		enhanced,
		title={#1},
		colframe=tcbcol@back!60!black,colback=tcbcol@back!30!white,colbacktitle=tcbcol@back!5!yellow!10!white,
		fonttitle=\bfseries,coltitle=black,attach boxed title to top center=
		{yshift=-0.25mm-\tcboxedtitleheight/2,yshifttext=2mm-\tcboxedtitleheight/2},
		attach boxed title to top left={xshift=1cm,yshift*=1mm-\tcboxedtitleheight},
		varwidth boxed title*=-3cm,
		boxed title style=
		{	frame code=
			{	\path[fill=tcbcol@back!30!black]
				([yshift=-1mm,xshift=-1mm]frame.north west)
				arc[start angle=0,end angle=180,radius=1mm]
				([yshift=-1mm,xshift=1mm]frame.north east)
				arc[start angle=180,end angle=0,radius=1mm];
				\path[left color=tcbcol@back!60!black,right color=tcbcol@back!60!black,
				middle color=tcbcol@back!80!black]
				([xshift=-2mm]frame.north west) -- ([xshift=2mm]frame.north east)
				[rounded corners=1mm]-- ([xshift=1mm,yshift=-1mm]frame.north east)
				-- (frame.south east) -- (frame.south west)
				-- ([xshift=-1mm,yshift=-1mm]frame.north west)
				[sharp corners]-- cycle;
			},
			interior engine=empty,
		},
		overlay=
		{	\begin{tcbclipinterior}
				\fill[tcbcol@back!80!black] (frame.south west)
				rectangle ([xshift=5mm]frame.north west);
			\end{tcbclipinterior}
		},
		minted language=Matlab,
		minted options=
		{	mathescape,breaklines,linenos,
			fontsize=\footnotesize,
			numbersep=3mm,
			highlightcolor=green,
			escapeinside=``
		}
	}
}
\DeclareTCBListing{matlab2}{ m m }
{	listing and comment,
	colbacklower=tcbcol@back!5!yellow!10!white,
	collower=tcbcol@back!60!black,
	matlab,
	matlab/.style+={},
	title={#2},
	comment={\small\sffamily#1}
}
\DeclareTCBListing{matlab}{ m }
{	listing only,
	matlab,
	title={#1}
}
%-------------------------------------------------------------------------------------------------------
\setminted[Matlab]
{	mathescape,breaklines,linenos,
	fontsize=\footnotesize,
	numbersep=3mm,
	highlightcolor=green,
	escapeinside=``
}
%-------------------------------------------------------------------------------------------------------
\renewcommand*\lstlistingname{代码}
\lstset
{	language = Matlab, 			%thelanguageofthecode
	basicstyle =\tiny\monaco, 		%thesizeofthefontsthatareusedforthecode
	numbers = left, 				%wheretoputtheline-numbers
	numberstyle = \tiny\color{gray}\monaco, 	%thestylethatisusedfortheline-numbers
	stepnumber = 1, 			%thestepbetweentwoline-numbers.Ifit's1, eachlinewillbenumbered
	numbersep = 5pt, 			%howfartheline-numbersarefromthecode
	backgroundcolor = \color{white}, %choosethebackgroundcolor.Youmustadd\usepackage{color}
	showspaces = false, 			%showspacesaddingparticularunderscores
	showstringspaces = false, 		%underlinespaceswithinstrings
	showtabs = false, 			%showtabswithinstringsaddingparticularunderscores
	frame = single, 				%addsaframearoundthecode
	rulecolor = \color{black}, 		%ifnotset, theframe-colormaybechangedonline-breakswithinnot-blacktext(e.g.commens(greenhere))
	tabsize = 4, 				%setsdefaulttabsizeto2spaces
	captionpos = b, 				%setsthecaption-positiontobottom
	breaklines = true, 			%setsautomaticlinebreaking
	breakatwhitespace = false, 	%setsifautomaticbreaksshouldonlyhappenatwhitespace
	title = \lstname, 				%showthefilenameoffilesincludedwith\lstinputlisting; alsotrycaptioninsteadoftitle
	keywordstyle = \color{blue}, 	%keywordstyle
	commentstyle = \color{dkgreen}, %commentstyle
	stringstyle = \color{mauve}, 	%stringliteralstyle
	escapeinside = ``, 			%ifyouwanttoaddLaTeXwithinyourcode
	morekeywords = {*, ...},		%ifyouwanttoaddmorekeywordstotheset
	columns=flexible
}
%-------------------------------------------------------------------------------------------------------
\tcbset
{	colframe = yellow! 50! green, 
	colback = white, 
	fonttitle = \bfseries, 
	left = 0mm, 
	right = 0mm, 
	top = 0mm, 
	bottom = 0mm, 
	boxsep = 0mm, 
 	toptitle = 0.5mm, 
 	bottomtitle = 0.5mm, 
	nobeforeafter, center title
}
\newtcbtheorem{strength}{\it 优点}
{	enhanced, breakable, 
	colback = white, 
	colframe = cyan, 
	colbacktitle = cyan, 
	attach boxed title to top left = 
	{	yshift = -2mm, 
		xshift = 5mm
	}, 
	boxed title style = {sharp corners}, 
	fonttitle = \sffamily\bfseries, 
	separator sign = {\it ：}
}{}
\newtcbtheorem{weakness}{\it 缺点}
{	enhanced, breakable, 
	colback = white, 
	colframe = gray, 
	colbacktitle = gray, 
	attach boxed title to top left = 
	{	yshift = -2mm, 
		xshift = 5mm
	}, 
	boxed title style = {sharp corners}, 
	fonttitle = \sffamily\bfseries, 
	separator sign = {\it ：}
}{}
%-------------------------------------------------------------------------------------------------------
\tikzstyle{level 2 concept} += [sibling angle = 40]
\tikzstyle{startstop} = 
[	rectangle, rounded corners, 
	minimum width = 2cm, 
	minimum height = 1cm, 
	text centered, 
	draw = black, 
	fill = red! 40
]
\tikzstyle{io} = 
[	trapezium, 
	trapezium left angle = 70, 
	trapezium right angle = 110, 
	minimum width = 2cm, 
	minimum height = 1cm, 
	text centered, 
	draw = black, 
	fill = blue! 40
]
\tikzstyle{process} = 
[	rectangle, 
	minimum width = 2cm, 
	minimum height = 1cm, 
	text centered, 
	draw = black, 
	fill = yellow! 50
]
\tikzstyle{decision} = 
[	diamond, 
	aspect = 3, 
	text centered, 
	draw = black, 
	fill = green! 30
]
\tikzstyle{arrow} = 
[	->, 
	> = stealth
]
%-------------------------------------------------------------------------------------------------------
\newcommand{\drawbarcode}[1]{\EANisbn[SC5a, ISBN = #1]}
%-------------------------------------------------------------------------------------------------------
\renewcommand{\thefootnote}{\fnsymbol{footnote}}
%-------------------------------------------------------------------------------------------------------
\usepackage{accsupp}
% \renewcommand{\thelstnumber}{\protect\BeginAccSupp{ActualText={}}\arabic{lstnumber}\protect\EndAccSupp{}}
%-------------------------------------------------------------------------------------------------------
\usepackage[resetfonts]{cmap}
\usepackage{fancyvrb}
\begin{VerbatimOut}{main.cmap}
	%!PS-Adobe-3.0 Resource-CMap
	%%DocumentNeededResources: ProcSet (CIDInit)
	%%IncludeResource: ProcSet (CIDInit)
	%%BeginResource: CMap (TeX-OT1-0)
	%%Title: (TeX-OT1-0 TeX OT1 0)
	%%Version: 1.000
	%%EndComments
	/CIDInit /ProcSet findresource begin
	12 dict begin
	begincmap
	/CIDSystemInfo
	<< /Registry (TeX)
	/Ordering (OT1)
	/Supplement 0
	>> def
	/CMapName /TeX-OT1-0 def
	/CMapType 2 def
	1 begincodespacerange
	<00> <7F>
	endcodespacerange
	8 beginbfrange
	<00> <01> <0000>
	<09> <0A> <0000>
	<23> <26> <0000>
	<28> <3B> <0000>
	<3F> <5B> <0000>
	<5D> <5E> <0000>
	<61> <7A> <0000>
	<7B> <7C> <0000>
	endbfrange
	40 beginbfchar
	<02> <0000>
	<03> <0000>
	<04> <0000>
	<05> <0000>
	<06> <0000>
	<07> <0000>
	<08> <0000>
	<0B> <0000>
	<0C> <0000>
	<0D> <0000>
	<0E> <0000>
	<0F> <0000>
	<10> <0000>
	<11> <0000>
	<12> <0000>
	<13> <0000>
	<14> <0000>
	<15> <0000>
	<16> <0000>
	<17> <0000>
	<18> <0000>
	<19> <0000>
	<1A> <0000>
	<1B> <0000>
	<1C> <0000>
	<1D> <0000>
	<1E> <0000>
	<1F> <0000>
	<21> <0000>
	<22> <0000>
	<27> <0000>
	<3C> <0000>
	<3D> <0000>
	<3E> <0000>
	<5C> <0000>
	<5F> <0000>
	<60> <0000>
	<7D> <0000>
	<7E> <0000>
	<7F> <0000>
	endbfchar
	endcmap
	CMapName currentdict /CMap defineresource pop
	end
	end
	%%EndResource
	%%EOF
\end{VerbatimOut}
%-------------------------------------------------------------------------------------------------------
\makeatother
